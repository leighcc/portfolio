(function(){var fullWindowWidth;var originWidth;originWidth=320;resize();$(window).on("resize",resize);function resize(){fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}if(fullWindowWidth>480)fullWindowWidth=320;$("html").css("font-size",function(){return(100*fullWindowWidth/originWidth).toFixed(2)+"px"});setZero();setEqual();function setZero(){$width=$(".btn-longlocate").position().left+$(".btn-longlocate").innerWidth();$(".btn-long").css("width",$width)}function setEqual(){$height=$(".btn-talllocate").position().top-$(".row").position().top+$(".btn-longlocate").innerHeight();$(".btn-tall").css("height",$height)}}})();(function(){var output=$(".output-num");var inputStr="";var memory="0";var decimalAdded=false;var percentAdded=false;var MAX_LEN=16;var OPERAND_REGEX=/[\d\.%\(\)±]/;output.text("0");$(".screen-keyboard").on("click","button",function(){var btnVal=$(this).text();var inputLen=inputStr.length;switch(btnVal){case"mc":memory="0";console.log(memory);break;case"m+":memory=accAdd(memory,output.text());inputStr="";decimalAdded=false;percentAdded=false;console.log(memory);break;case"m-":memory=accSub(memory,output.text());inputStr="";decimalAdded=false;percentAdded=false;console.log(memory);break;case"mr":inputStr="";memoryDisplay=String(memory).length>MAX_LEN?memory.toExponential(5):memory;output.text(memoryDisplay);console.log(memory);break;case"back":inputStr=inputStr.slice(0,-1);if(inputStr.length===0||inputStr[inputStr.length-1]==="-"){inputStr="0"}output.text(inputStr);break;case"%":if(inputStr&&!percentAdded){inputStr=accDiv(inputStr,100)+"";output.text(inputStr);percentAdded=true}break;case"C":inputStr="";output.text("0");decimalAdded=false;percentAdded=false;break;case"±":if(inputLen===MAX_LEN||!inputLen||inputStr==="0"){break}inputStr=inputStr[0]==="-"?inputStr.substring(1):"-"+inputStr;output.text(inputStr);break;case".":if(inputLen===MAX_LEN){break}if(!decimalAdded){if(!inputStr){inputStr="0."}else{inputStr+="."}output.text(inputStr);decimalAdded=true}break;case"0":if(inputLen===MAX_LEN){break}if(inputStr!=="0"){inputStr+="0";output.text(inputStr)}break;default:if(OPERAND_REGEX.test(btnVal)){if(inputLen===MAX_LEN){break}else if(inputStr==="0"){inputStr=btnVal}else{inputStr+=btnVal}output.text(inputStr)}}});console.log(accDiv(.3,.1));console.log(accAdd(.1,.2));function accAdd(arg1,arg2){var r1,r2,m,c;try{r1=arg1.toString().split(".")[1].length}catch(e){r1=0}try{r2=arg2.toString().split(".")[1].length}catch(e){r2=0}c=Math.abs(r1-r2);m=Math.pow(10,Math.max(r1,r2));if(c>0){var cm=Math.pow(10,c);if(r1>r2){arg1=Number(arg1.toString().replace(".",""));arg2=Number(arg2.toString().replace(".",""))*cm}else{arg1=Number(arg1.toString().replace(".",""))*cm;arg2=Number(arg2.toString().replace(".",""))}}else{arg1=Number(arg1.toString().replace(".",""));arg2=Number(arg2.toString().replace(".",""))}return(arg1+arg2)/m}function accSub(arg1,arg2){var r1,r2,m,n;try{r1=arg1.toString().split(".")[1].length}catch(e){r1=0}try{r2=arg2.toString().split(".")[1].length}catch(e){r2=0}m=Math.pow(10,Math.max(r1,r2));n=r1>=r2?r1:r2;return((arg1*m-arg2*m)/m).toFixed(n)}function accMul(arg1,arg2){var m=0,s1=arg1.toString(),s2=arg2.toString();try{m+=s1.split(".")[1].length}catch(e){}try{m+=s2.split(".")[1].length}catch(e){}return Number(s1.replace(".",""))*Number(s2.replace(".",""))/Math.pow(10,m)}function accDiv(arg1,arg2){var t1=0,t2=0,r1,r2;try{t1=arg1.toString().split(".")[1].length}catch(e){}try{t2=arg2.toString().split(".")[1].length}catch(e){}with(Math){r1=Number(arg1.toString().replace(".",""));r2=Number(arg2.toString().replace(".",""));return r1/r2*pow(10,t2-t1)}}})();